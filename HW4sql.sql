-- MySQL Script generated by MySQL Workbench
-- Sun Mar 22 22:48:46 2020
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema Veterinary_Clinic
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema Veterinary_Clinic
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `Veterinary_Clinic` DEFAULT CHARACTER SET utf8 ;
USE `Veterinary_Clinic` ;

-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`Owner`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`Owner` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`Owner` (
  `ownerID` INT NOT NULL,
  `petID` VARCHAR(45) NOT NULL,
  `ownerName` VARCHAR(45) NULL,
  `ownerContact` INT NULL,
  `ownerNotes` VARCHAR(150) NULL,
  PRIMARY KEY (`ownerID`, `petID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`Trainings`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`Trainings` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`Trainings` (
  `trainingID` INT NOT NULL AUTO_INCREMENT,
  `trainingType` VARCHAR(45) NOT NULL,
  `trainingDate` DATE NOT NULL,
  `petName` VARCHAR(45) NULL,
  `petID` INT NOT NULL,
  `ownerName` VARCHAR(45) NULL,
  `ownerID` INT NOT NULL,
  PRIMARY KEY (`trainingID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`trainingsCompleted`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`trainingsCompleted` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`trainingsCompleted` (
  `petID` INT NOT NULL,
  `trainingType` VARCHAR(45) NOT NULL,
  `trainingDate` VARCHAR(45) NOT NULL,
  `trainingID` INT NOT NULL,
  PRIMARY KEY (`petID`, `trainingID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`Pet`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`Pet` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`Pet` (
  `petID` INT NOT NULL,
  `ownerID` VARCHAR(45) NOT NULL,
  `petName` VARCHAR(45) NULL,
  `petBreed` VARCHAR(45) NULL,
  `petGender` VARCHAR(45) NULL,
  `petBirthday` VARCHAR(45) NULL,
  `petColor` VARCHAR(45) NULL,
  `petNeutered` VARCHAR(45) NULL,
  `petMarkings` VARCHAR(45) NULL,
  `petSpayed` VARCHAR(45) NULL,
  `Owner_ownerID` INT NOT NULL,
  `Owner_petID` VARCHAR(45) NOT NULL,
  `Trainings_trainingID` INT NOT NULL,
  `trainingsCompleted_petID` INT NOT NULL,
  `trainingsCompleted_trainingID` INT NOT NULL,
  PRIMARY KEY (`petID`, `ownerID`, `Owner_ownerID`, `Owner_petID`),
  CONSTRAINT `fk_Pet Information_Owner`
    FOREIGN KEY (`Owner_ownerID` , `Owner_petID`)
    REFERENCES `Veterinary_Clinic`.`Owner` (`ownerID` , `petID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Pet_Trainings1`
    FOREIGN KEY (`Trainings_trainingID`)
    REFERENCES `Veterinary_Clinic`.`Trainings` (`trainingID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Pet_trainingsCompleted1`
    FOREIGN KEY (`trainingsCompleted_petID` , `trainingsCompleted_trainingID`)
    REFERENCES `Veterinary_Clinic`.`trainingsCompleted` (`petID` , `trainingID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Pet Information_Owner_idx` ON `Veterinary_Clinic`.`Pet` (`Owner_ownerID` ASC, `Owner_petID` ASC) VISIBLE;

CREATE INDEX `fk_Pet_Trainings1_idx` ON `Veterinary_Clinic`.`Pet` (`Trainings_trainingID` ASC) VISIBLE;

CREATE INDEX `fk_Pet_trainingsCompleted1_idx` ON `Veterinary_Clinic`.`Pet` (`trainingsCompleted_petID` ASC, `trainingsCompleted_trainingID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`Vet Visit History`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`Vet Visit History` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`Vet Visit History` (
  `ownerID` INT NOT NULL,
  `visitID` INT NULL,
  `petID` INT NOT NULL,
  `visitDate` DATE NULL,
  `petWeight` INT NULL,
  `petTemperature` INT NULL,
  `petBP` VARCHAR(45) NULL,
  `petPulse` INT NULL,
  `petRespiration` INT NULL,
  `petPain` VARCHAR(100) NULL,
  `vetInitials` VARCHAR(45) NULL,
  `Owner_ownerID` INT NOT NULL,
  `Owner_petID` VARCHAR(45) NOT NULL,
  `Pet_petID` INT NOT NULL,
  `Pet_ownerID` VARCHAR(45) NOT NULL,
  `Pet_Owner_ownerID` INT NOT NULL,
  `Pet_Owner_petID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ownerID`, `petID`, `Owner_ownerID`, `Owner_petID`, `Pet_petID`, `Pet_ownerID`, `Pet_Owner_ownerID`, `Pet_Owner_petID`),
  CONSTRAINT `fk_Vet Visit History_Owner1`
    FOREIGN KEY (`Owner_ownerID` , `Owner_petID`)
    REFERENCES `Veterinary_Clinic`.`Owner` (`ownerID` , `petID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Vet Visit History_Pet1`
    FOREIGN KEY (`Pet_petID` , `Pet_ownerID` , `Pet_Owner_ownerID` , `Pet_Owner_petID`)
    REFERENCES `Veterinary_Clinic`.`Pet` (`petID` , `ownerID` , `Owner_ownerID` , `Owner_petID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Vet Visit History_Owner1_idx` ON `Veterinary_Clinic`.`Vet Visit History` (`Owner_ownerID` ASC, `Owner_petID` ASC) VISIBLE;

CREATE INDEX `fk_Vet Visit History_Pet1_idx` ON `Veterinary_Clinic`.`Vet Visit History` (`Pet_petID` ASC, `Pet_ownerID` ASC, `Pet_Owner_ownerID` ASC, `Pet_Owner_petID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`Immunication History`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`Immunication History` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`Immunication History` (
  `immunizationID` INT NOT NULL,
  `immunizationID` DATE NULL,
  `immunizationType` VARCHAR(100) NULL,
  `immunizationNextDue` VARCHAR(45) NULL,
  `immunizationDetails` VARCHAR(100) NULL,
  `Pet_petID` INT NOT NULL,
  `Pet_ownerID` VARCHAR(45) NOT NULL,
  `Pet_Owner_ownerID` INT NOT NULL,
  `Pet_Owner_petID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`immunizationID`),
  CONSTRAINT `fk_Immunication History_Pet1`
    FOREIGN KEY (`Pet_petID` , `Pet_ownerID` , `Pet_Owner_ownerID` , `Pet_Owner_petID`)
    REFERENCES `Veterinary_Clinic`.`Pet` (`petID` , `ownerID` , `Owner_ownerID` , `Owner_petID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Immunication History_Pet1_idx` ON `Veterinary_Clinic`.`Immunication History` (`Pet_petID` ASC, `Pet_ownerID` ASC, `Pet_Owner_ownerID` ASC, `Pet_Owner_petID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`Known Conditions`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`Known Conditions` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`Known Conditions` (
  `petID` INT NOT NULL,
  `conditionName` VARCHAR(45) NULL,
  `conditionDetails` VARCHAR(45) NULL,
  `conditionNotes` VARCHAR(200) NULL,
  `Pet_petID` INT NOT NULL,
  `Pet_ownerID` VARCHAR(45) NOT NULL,
  `Pet_Owner_ownerID` INT NOT NULL,
  `Pet_Owner_petID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`petID`),
  CONSTRAINT `fk_Known Conditions_Pet1`
    FOREIGN KEY (`Pet_petID` , `Pet_ownerID` , `Pet_Owner_ownerID` , `Pet_Owner_petID`)
    REFERENCES `Veterinary_Clinic`.`Pet` (`petID` , `ownerID` , `Owner_ownerID` , `Owner_petID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Known Conditions_Pet1_idx` ON `Veterinary_Clinic`.`Known Conditions` (`Pet_petID` ASC, `Pet_ownerID` ASC, `Pet_Owner_ownerID` ASC, `Pet_Owner_petID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`Known Allergies`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`Known Allergies` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`Known Allergies` (
  `petID` INT NOT NULL,
  `allergyName` VARCHAR(45) NULL,
  `allergyDetails` VARCHAR(45) NULL,
  `allergyNotes` VARCHAR(200) NULL,
  `Pet_petID` INT NOT NULL,
  `Pet_ownerID` VARCHAR(45) NOT NULL,
  `Pet_Owner_ownerID` INT NOT NULL,
  `Pet_Owner_petID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`petID`),
  CONSTRAINT `fk_Known Allergies_Pet1`
    FOREIGN KEY (`Pet_petID` , `Pet_ownerID` , `Pet_Owner_ownerID` , `Pet_Owner_petID`)
    REFERENCES `Veterinary_Clinic`.`Pet` (`petID` , `ownerID` , `Owner_ownerID` , `Owner_petID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Known Allergies_Pet1_idx` ON `Veterinary_Clinic`.`Known Allergies` (`Pet_petID` ASC, `Pet_ownerID` ASC, `Pet_Owner_ownerID` ASC, `Pet_Owner_petID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`Surgical History`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`Surgical History` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`Surgical History` (
  `petID` INT NOT NULL,
  `surgeryDate` VARCHAR(45) NULL,
  `surgeryProcedure` VARCHAR(45) NULL,
  `surgeryNotes` VARCHAR(200) NOT NULL,
  `surgeryHistory` VARCHAR(400) NULL,
  `Pet_petID` INT NOT NULL,
  `Pet_ownerID` VARCHAR(45) NOT NULL,
  `Pet_Owner_ownerID` INT NOT NULL,
  `Pet_Owner_petID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`petID`, `surgeryNotes`),
  CONSTRAINT `fk_Surgical History_Pet1`
    FOREIGN KEY (`Pet_petID` , `Pet_ownerID` , `Pet_Owner_ownerID` , `Pet_Owner_petID`)
    REFERENCES `Veterinary_Clinic`.`Pet` (`petID` , `ownerID` , `Owner_ownerID` , `Owner_petID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Surgical History_Pet1_idx` ON `Veterinary_Clinic`.`Surgical History` (`Pet_petID` ASC, `Pet_ownerID` ASC, `Pet_Owner_ownerID` ASC, `Pet_Owner_petID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`Vaccination History`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`Vaccination History` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`Vaccination History` (
  `petID` INT NOT NULL,
  `DHPP` VARCHAR(45) NULL,
  `DHPPdate` DATE NULL,
  `lepto` VARCHAR(45) NULL,
  `leptoDate` VARCHAR(45) NULL,
  `bordetella` VARCHAR(45) NULL,
  `bordetellaDate` DATE NULL,
  `rabies` INT NULL,
  `rabiesDate` DATE NULL,
  `lyme` VARCHAR(45) NULL,
  `lymeDate` DATE NULL,
  `giardia` VARCHAR(45) NULL,
  `giardiaDate` DATE NULL,
  `vaccinationNotes` VARCHAR(200) NULL,
  `Pet_petID` INT NOT NULL,
  `Pet_ownerID` VARCHAR(45) NOT NULL,
  `Pet_Owner_ownerID` INT NOT NULL,
  `Pet_Owner_petID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`petID`),
  CONSTRAINT `fk_Vaccination History_Pet1`
    FOREIGN KEY (`Pet_petID` , `Pet_ownerID` , `Pet_Owner_ownerID` , `Pet_Owner_petID`)
    REFERENCES `Veterinary_Clinic`.`Pet` (`petID` , `ownerID` , `Owner_ownerID` , `Owner_petID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Vaccination History_Pet1_idx` ON `Veterinary_Clinic`.`Vaccination History` (`Pet_petID` ASC, `Pet_ownerID` ASC, `Pet_Owner_ownerID` ASC, `Pet_Owner_petID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`Medical History`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`Medical History` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`Medical History` (
  `petID` INT NOT NULL,
  `fecalExam` VARCHAR(45) NULL,
  `fecalExamDate` DATE NULL,
  `heartwormExam` VARCHAR(45) NULL,
  `heartwormExamDate` DATE NULL,
  `medicalHistoryNotes` VARCHAR(200) NULL,
  `Pet_petID` INT NOT NULL,
  `Pet_ownerID` VARCHAR(45) NOT NULL,
  `Pet_Owner_ownerID` INT NOT NULL,
  `Pet_Owner_petID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`petID`),
  CONSTRAINT `fk_Medical History_Pet1`
    FOREIGN KEY (`Pet_petID` , `Pet_ownerID` , `Pet_Owner_ownerID` , `Pet_Owner_petID`)
    REFERENCES `Veterinary_Clinic`.`Pet` (`petID` , `ownerID` , `Owner_ownerID` , `Owner_petID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Medical History_Pet1_idx` ON `Veterinary_Clinic`.`Medical History` (`Pet_petID` ASC, `Pet_ownerID` ASC, `Pet_Owner_ownerID` ASC, `Pet_Owner_petID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`Exam History`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`Exam History` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`Exam History` (
  `petID` INT NOT NULL,
  `examName` VARCHAR(45) NULL,
  `examID` INT NULL,
  `examDate` DATE NULL,
  `Exam Historycol` VARCHAR(45) NULL,
  `Pet_petID` INT NOT NULL,
  `Pet_ownerID` VARCHAR(45) NOT NULL,
  `Pet_Owner_ownerID` INT NOT NULL,
  `Pet_Owner_petID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`petID`),
  CONSTRAINT `fk_Exam History_Pet1`
    FOREIGN KEY (`Pet_petID` , `Pet_ownerID` , `Pet_Owner_ownerID` , `Pet_Owner_petID`)
    REFERENCES `Veterinary_Clinic`.`Pet` (`petID` , `ownerID` , `Owner_ownerID` , `Owner_petID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Exam History_Pet1_idx` ON `Veterinary_Clinic`.`Exam History` (`Pet_petID` ASC, `Pet_ownerID` ASC, `Pet_Owner_ownerID` ASC, `Pet_Owner_petID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`Additional Information`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`Additional Information` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`Additional Information` (
  `petID` INT NOT NULL,
  `heartwormPrevention` VARCHAR(45) NULL,
  `kindOfHeartwormPrevention` VARCHAR(45) NULL,
  `percentageTimeOutside` INT NULL,
  `Pet_petID` INT NOT NULL,
  `Pet_ownerID` VARCHAR(45) NOT NULL,
  `Pet_Owner_ownerID` INT NOT NULL,
  `Pet_Owner_petID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`petID`),
  CONSTRAINT `fk_Additional Information_Pet1`
    FOREIGN KEY (`Pet_petID` , `Pet_ownerID` , `Pet_Owner_ownerID` , `Pet_Owner_petID`)
    REFERENCES `Veterinary_Clinic`.`Pet` (`petID` , `ownerID` , `Owner_ownerID` , `Owner_petID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Additional Information_Pet1_idx` ON `Veterinary_Clinic`.`Additional Information` (`Pet_petID` ASC, `Pet_ownerID` ASC, `Pet_Owner_ownerID` ASC, `Pet_Owner_petID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Veterinary_Clinic`.`Trainers`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Veterinary_Clinic`.`Trainers` ;

CREATE TABLE IF NOT EXISTS `Veterinary_Clinic`.`Trainers` (
  `trainerID` INT NOT NULL,
  `trainerName` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`trainerID`))
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
